<html lang="en" prefix="og: http://ogp.me/ns#" debug="true" class="wf-myriadpro-n4-active wf-myriadpro-n6-active wf-active"><head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
    <meta charset="utf-8">

    <title>PhotoSwipe: Responsive JavaScript Image Gallery</title>

    <meta name="description" content="Touch-friendly JavaScript image gallery for mobile and desktop, without dependencies. Responsive layout. Swipe and zoom gestures.">
    <meta name="viewport" content="width = device-width, initial-scale = 1.0"> 

    <meta name="author" content="Dmitry Semenov">
    <link rel="canonical" href="http://photoswipe.com">

    <meta property="og:url" content="http://photoswipe.com">
    <meta property="og:title" content="PhotoSwipe: Responsive JavaScript Image Gallery">
    <meta property="og:description" content="Touch-friendly JavaScript image gallery for mobile and desktop, without dependencies. Responsive layout. Swipe and zoom gestures.">
    <meta property="og:image" content="http://photoswipe.com/test/horizontal-swipe.jpg">

    <link href="https://plus.google.com/102586375605352607718" rel="publisher">

  
    <link rel="icon apple-touch-icon" href="test/apple-touch-icon-144x144.png" sizes="144x144" type="image/png">
    <link href="http://photoswipe.com/site-assets/site.css?v=4.1.1-1.0.4" rel="stylesheet">
    <link href="http://photoswipe.com/dist/photoswipe.css?v=4.1.1-1.0.4" rel="stylesheet">
    <link href="http://photoswipe.com/dist/default-skin/default-skin.css?v=4.1.1-1.0.4" rel="stylesheet">
    
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"  crossorigin="anonymous"></script>

    
      <script type="text/javascript" async="" src="http://mc.yandex.ru/metrika/watch.js"></script><script async="" src="//www.google-analytics.com/analytics.js"></script>
      <script src="http://photoswipe.com/dist/photoswipe.min.js?v=4.1.1-1.0.4"></script>
      <script src="http://photoswipe.com/dist/photoswipe-ui-default.min.js?v=4.1.1-1.0.4"></script>
    

   
  
<style type="text/css">
    
html, body { background: #000000 ; margin:0; padding:0; overflow:hidden; }
svg { position:fixed; top:0; bottom:0; left:0; right:0 }


#top
{

width:100%;
height: 85%;

}

#bottom
{

width:100%;
height: 15%;

}

.containment {
    /*transform: rotate(-90deg);*/
  /*transform-origin:80% 10%;*/
    background: white;
    width: auto;
    height: calc(100% - 00px);
    overflow-x: scroll;
overflow-y: hidden;
  text-align: center;
  border-radius: 10px;
  box-shadow: inset 0 0 20px black;
   white-space: nowrap;

    }

.unit {
 
    height: 100%;
  /*width: 200px;*/
  /*margin: 5px 0 5px;*/
  display: inline-block;
  /*box-shadow: 0 0 10px #222;*/
    }

</style>

  <body>
<div  id="top">
    
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>



</div>


<div  id="bottom">
    
<div class="containment">
  
    <img src="http://lorempixel.com/150/200/animals/1" class="unit"/>
  <img src="http://lorempixel.com/150/200/nature/1" class="unit"/>
  <img src="http://lorempixel.com/150/200/nature/2" class="unit"/>
  <img src="http://lorempixel.com/150/200/animals/4" class="unit"/>
  <img src="http://lorempixel.com/150/200/nature/3" class="unit"/>
  <img src="http://lorempixel.com/150/200/animals/7" class="unit"/>
  
</div>


</div>
    </body>
    <script type="text/javascript">

var pswpElement = document.querySelectorAll('.pswp')[0];

// build items array


items = []
// define options (if needed)


// Initializes and opens PhotoSwipe
function initGallery(index)
{

    var options = {
    // optionName: 'option value'
    // for example:
closeOnScroll: false,

    maxSpreadZoom: 10 ,
    index:index || 0 // start at first slide
};


var gallery = new PhotoSwipe( pswpElement, PhotoSwipeUI_Default, items, options);


gallery.listen('gettingData', function(index, item) {

    console.log(index)

        if (item.w < 1 || item.h < 1) { // unknown size
        var img = new Image(); 
        img.onload = function() { // will get size after load
        item.w = this.width; // set image width
        item.h = this.height; // set image height
           gallery.invalidateCurrItems(); // reinit Items
           gallery.updateSize(true); // reinit Items

           console.log(item.w)
           console.log(item.h)




        }
    img.src = item.src; // let's download image
    }
});


gallery.init();
}
    </script>



<script type="text/javascript">



function parseInfo(data)
{

    
items = []
  


$.get('/readEpaper/' + data[1]._id , function(a){



for(var b of a)
{
  
var SubArticlesImages = b.SubArticlesImages;


var POP = SubArticlesImages.pop()

var SVG = POP.SVG;

var parser = new DOMParser();
var _doc = parser.parseFromString(SVG ,  "text/xml");
var _parent  =_doc.getElementsByTagName('svg')[0]


var cntr= 0;
var hyperlink = "javascript:initGallery("+ cntr +")"


_parent.innerHTML =  '<a href="' + hyperlink +'">' +  _parent.innerHTML  + '</a>'

items.push( {  w:0 , h:0 , src: POP.Location} )



b.Location = b.Location.replace('/fd' , '/thumb')

var image = document.createElement('image')
image.setAttribute('preserveAspectRatio' , 'xMinYMin slice')
image.setAttribute('width' , '100%')
image.setAttribute('height' , '100%')
image.setAttribute('x' , '0')
image.setAttribute('y' , '0')
image.setAttributeNS( 'http://www.w3.org/1999/xlink' ,  'xlink:href' , "https://prakhargyan.s3.ap-south-1.amazonaws.com/" + b.Location)


_parent.innerHTML = '<style type="text/css">.article{ opacity: 0.5;fill:transparent; }  .article:hover {fill:transparent;  opacity: 1.0; stroke: white;stroke-width: 4px; } </style>'  + image.outerHTML + "</image>"+ _parent.innerHTML





// _parent.innerHTML =image.outerHTML + "</image>"+ _parent.innerHTML


for(var c of SubArticlesImages)
{
    cntr++;

  var SVG = c.SVG;


var parser = new DOMParser();
var doc = parser.parseFromString(SVG ,  "text/xml");
var parent  =doc.getElementsByTagName('svg')[0]

// _parent.innerHTML +='<g stroke="green" fill="white" stroke-width="5">'  + parent.innerHTML + "</g>"

items.push( {  w:0 , h:0 , src: c.Location} )

var hyperlink = "javascript:initGallery("+ cntr +")"


_parent.innerHTML +=  '<a href="' + hyperlink +'">' +  parent.innerHTML  + '</a>'




}



$(_parent).find('path').attr('fill-opacity', '0.1');
$(_parent).find('path').attr('fill', 'transparent');
$(_parent).find('path').attr('class', 'article');



// _parent.innerHTML = "<center>" + _parent.innerHTML + "</center>"


document.getElementById('top').insertAdjacentElement( 'afterbegin' , _parent);



$('svg').attr('width' , "100%" )   
$('svg').attr('height' ,   "85%" )  
// $('svg').find('path')attr("fill", "black");


}



})





}


// parseInfo()
    // $('img[usemap]').rwdImageMaps();

function getPDFByDate(date)
{

$.get('/getConvertedPdf/' + date, function(success){

parseInfo(success)

})

}

getPDFByDate('20170205')

</script>



  
</html>